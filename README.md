# üéÅ TZR Gift Bot

Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞–º–∏ –≤ –∏–≥—Ä–µ **Timezero Reloaded**.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üéÅ –ê–Ω–∞–ª–∏–∑ –ø–æ–¥–∞—Ä–∫–æ–≤**: –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–¥–∞—Ä–∫–æ–≤ —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ ML-–∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –¥—Ä–æ–ø–∞
- **üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º**: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤, –∑–∞–ø—Ä–æ—Å —Å —Å–µ—Ä–≤–µ—Ä–∞
- **üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤**: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ (–¥–æ 100 –∑–∞ —Ä–∞–∑)
- **üßπ –û—á–∏—Å—Ç–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏–∑ —Å–µ–∫—Ü–∏–π 0-3
- **üìä –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**: –≤—ã–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ JSON
- **üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º**: —Å–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))
- –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –∏–≥—Ä—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/ustwan/tzr_gift.git
cd tzr_gift
```

2. **–°–æ–∑–¥–∞–π—Ç–µ `settings.json`:**
```bash
cp settings.example.json settings.json
nano settings.json
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```json
{
  "server": {
    "host": "–≤–∞—à_—Å–µ—Ä–≤–µ—Ä.com",
    "port": 5555
  },
  "account": {
    "login": "–≤–∞—à_–ª–æ–≥–∏–Ω",
    "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"
  },
  "telegram": {
    "bot_token": "8318962550:AAG6GEDfwLyVrRwMe2tzJoV-JsKLFiTXdzs",
    "chat_id": ""
  }
}
```

3. **–°–æ–∑–¥–∞–π—Ç–µ `users.json` —Å –ø–µ—Ä–≤—ã–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:**
```bash
cp users.example.json users.json
nano users.json
```

–£–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π Telegram ID (—É–∑–Ω–∞—Ç—å –º–æ–∂–Ω–æ —É [@userinfobot](https://t.me/userinfobot)):
```json
{
  "admins": [
    123456789
  ],
  "users": []
}
```

4. **–°–æ–∑–¥–∞–π—Ç–µ `present_list.json`:**
```bash
echo '{"presents": []}' > present_list.json
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
```bash
docker-compose up -d
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
docker-compose logs -f gift-bot
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞/–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
git pull
docker-compose up -d --build
```

## üêç –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ Docker (–ª–æ–∫–∞–ª—å–Ω–æ)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.13+
- pip

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/ustwan/tzr_gift.git
cd tzr_gift
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r bot_requirements.txt
```

4. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** (—Å–º. —Ä–∞–∑–¥–µ–ª Docker –≤—ã—à–µ):
   - `settings.json`
   - `users.json`
   - `present_list.json`

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
python gift_bot.py
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `/start`
2. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
   - **üéÅ –ê–Ω–∞–ª–∏–∑** ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—Ä–∫–∏ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - **üìã –°–ø–∏—Å–æ–∫** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤
   - **üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤
   - **üßπ –û—á–∏—Å—Ç–∏—Ç—å** ‚Äî –æ—á–∏—Å—Ç–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (—Å–µ–∫—Ü–∏–∏ 0-3)
   - **üìä –≠–∫—Å–ø–æ—Ä—Ç** ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/adduser <telegram_id>` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/removeuser <telegram_id>` ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/users` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/restart` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞

**–ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é:**
- **üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
- **üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫** ‚Äî —Ä–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### settings.json

```json
{
  "server": {
    "host": "–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞",     // –ê–¥—Ä–µ—Å –∏–≥—Ä–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
    "port": 5555                  // –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
  },
  "account": {
    "login": "–ª–æ–≥–∏–Ω",             // –õ–æ–≥–∏–Ω –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞
    "password": "–ø–∞—Ä–æ–ª—å"          // –ü–∞—Ä–æ–ª—å
  },
  "telegram": {
    "bot_token": "—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞",    // –¢–æ–∫–µ–Ω –æ—Ç @BotFather
    "chat_id": ""                 // –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  }
}
```

### users.json

```json
{
  "admins": [123456789],          // Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
  "users": [987654321]            // Telegram ID –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
}
```

### present_list.json

```json
{
  "presents": [
    {"name": "Halloween box", "id": "3"}
  ]
}
```

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### Docker

```bash
cd tzr_gift
git pull
docker-compose up -d --build
```

### –õ–æ–∫–∞–ª—å–Ω–æ

```bash
cd tzr_gift
git pull
source venv/bin/activate  # –µ—Å–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
pip install -r bot_requirements.txt --upgrade
python gift_bot.py
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs -f gift-bot  # Docker
# –∏–ª–∏
tail -f bot_latest.log  # –ª–æ–∫–∞–ª—å–Ω–æ
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É –∏–≥—Ä—ã

### "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `host` –∏ `port` –≤ `settings.json`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω

### "–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `login` –∏ `password` –≤ `settings.json`

### –ë–æ—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–¥–∞—Ä–∫–∏

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: **üìã –°–ø–∏—Å–æ–∫ ‚Üí üîÑ –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞**
2. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ ‚Äî –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é: **üìã –°–ø–∏—Å–æ–∫ ‚Üí ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**

### –û—á–∏—Å—Ç–∫–∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/check` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –æ—á–∏—â–µ–Ω –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ–¥–∞—Ä–∫–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tzr_gift/
‚îú‚îÄ‚îÄ gift_bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ access_control.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
‚îú‚îÄ‚îÄ drop_analyzer.py         # ML-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥—Ä–æ–ø–∞
‚îú‚îÄ‚îÄ bot_requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile               # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ settings.example.json    # –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ users.example.json       # –ü—Ä–∏–º–µ—Ä —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ settings.json            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ users.json               # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ present_list.json        # –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ (–Ω–µ –≤ git)
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ–≥–¥–∞ –æ—á–∏—â–∞–π—Ç–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏–∑–æ–º –ø–æ–¥–∞—Ä–∫–æ–≤** ‚Äî —ç—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç –¥—Ä–æ–ø–∞
2. **–ú–∞–∫—Å–∏–º—É–º 100 –ø–æ–¥–∞—Ä–∫–æ–≤ –∑–∞ —Ä–∞–∑** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
3. **–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Å–µ–∫—Ü–∏—è–º–∏ 0-3** ‚Äî —Å–µ–∫—Ü–∏—è 100000 (–ø–µ—Ä–∫–∏/—Å–∫–∏–ª–ª—ã) –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
4. **–ù–µ –¥–µ–ª–∏—Ç–µ—Å—å `settings.json` –∏ `users.json`** ‚Äî –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**
2. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/check` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**Timezero Reloaded Gift Bot** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞–º–∏ –≤ –∏–≥—Ä–µ üéÆ
